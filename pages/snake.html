<!-- pages/snake.html - Snake game page -->
<!-- Snake Game - A classic arcade game with arrow controls and difficulty levels -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Snake Game - FunZone</title>
    <!-- Global styles first, then page-specific -->
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="../css/navbar.css">
    <link rel="stylesheet" href="../css/snake.css">
</head>
<body>
    <nav class="game-nav">
        <div class="nav-content">
            <a class="nav-brand" href="games.html">FunZone</a>
            <div class="nav-actions">
                <button class="btn-darkmode" id="darkModeToggle" type="button">Dark mode</button>
                <button class="btn-back" onclick="window.location.href='games.html'">Back to Games</button>
            </div>
        </div>
    </nav>

    <div class="game-container">
        <div class="game-shell">
            <div class="game-header">
                <h1>
                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M5 9c2-3 7-3 9 0s7 3 9 0"/>
                        <path d="M4 15c2 3 7 3 9 0s7-3 9 0"/>
                        <circle cx="6.5" cy="9" r="1"/>
                    </svg>
                    Snake Game
                </h1>
                <p>Use arrow keys to control the snake and eat the food!</p>
            </div>

            <!-- Difficulty Selection Panel -->
            <div class="difficulty-panel" id="difficultyPanel">
                <h2>Select Difficulty</h2>
                <p class="difficulty-description">Choose your challenge level</p>
                
                <div class="difficulty-options">
                    <button class="difficulty-btn" data-difficulty="easy">
                        <span class="difficulty-icon">üå±</span>
                        <span class="difficulty-name">Easy</span>
                        <span class="difficulty-desc">Slow speed, forgiving walls</span>
                    </button>
                    <button class="difficulty-btn active" data-difficulty="medium">
                        <span class="difficulty-icon">üî•</span>
                        <span class="difficulty-name">Medium</span>
                        <span class="difficulty-desc">Balanced challenge</span>
                    </button>
                    <button class="difficulty-btn" data-difficulty="hard">
                        <span class="difficulty-icon">üíÄ</span>
                        <span class="difficulty-name">Hard</span>
                        <span class="difficulty-desc">Fast speed, no mercy</span>
                    </button>
                </div>

                <div class="best-score-display">
                    <span class="best-label">Best Score:</span>
                    <span class="best-value" id="bestScoreDisplay">0</span>
                </div>

                <button class="btn-start" id="startBtn">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <polygon points="5 3 19 12 5 21 5 3"/>
                    </svg>
                    Start Game
                </button>

                <div class="controls-hint">
                    <h3>How to Play</h3>
                    <div class="controls-grid">
                        <div class="control-item">
                            <span class="key">‚Üë</span>
                            <span>Move Up</span>
                        </div>
                        <div class="control-item">
                            <span class="key">‚Üì</span>
                            <span>Move Down</span>
                        </div>
                        <div class="control-item">
                            <span class="key">‚Üê</span>
                            <span>Move Left</span>
                        </div>
                        <div class="control-item">
                            <span class="key">‚Üí</span>
                            <span>Move Right</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Game Info Bar -->
            <div class="game-info" id="gameInfo">
                <div class="info-item">
                    <span class="info-label">Score</span>
                    <span class="info-value" id="scoreDisplay">0</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Length</span>
                    <span class="info-value" id="lengthDisplay">3</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Best</span>
                    <span class="info-value" id="currentBestDisplay">0</span>
                </div>
                <div class="info-item difficulty-indicator">
                    <span class="info-label">Difficulty</span>
                    <span class="info-value" id="difficultyDisplay">Medium</span>
                </div>
            </div>

            <!-- Game Board Area (DOM-based grid) -->
            <div class="game-area-wrapper">
                <div class="game-board" id="gameBoard"></div>
                <div class="pause-overlay" id="pauseOverlay">
                    <div class="pause-content">
                        <span class="pause-icon">‚è∏Ô∏è</span>
                        <span class="pause-text">PAUSED</span>
                        <span class="pause-hint">Press SPACE to resume</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Countdown Display -->
        <div class="countdown-overlay" id="countdownDisplay">
            <div class="countdown-number" id="countdownNumber">3</div>
        </div>

        <!-- Mobile Controls (for touch devices) -->
        <div class="mobile-controls" id="mobileControls">
            <button class="mobile-btn up" data-direction="up">‚Üë</button>
            <div class="mobile-row">
                <button class="mobile-btn left" data-direction="left">‚Üê</button>
                <button class="mobile-btn right" data-direction="right">‚Üí</button>
            </div>
            <button class="mobile-btn down" data-direction="down">‚Üì</button>
        </div>

        <!-- Game Over Panel -->
        <div class="game-over-panel" id="gameOverPanel">
            <div class="game-over-content">
                <div class="game-over-icon">üêç</div>
                <h2>Game Over!</h2>
                
                <div class="final-stats">
                    <div class="stat-row">
                        <span class="stat-label">Final Score</span>
                        <span class="stat-value highlight" id="finalScore">0</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">Snake Length</span>
                        <span class="stat-value" id="finalLength">0</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">Best Score</span>
                        <span class="stat-value" id="finalBestScore">0</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">Total Games</span>
                        <span class="stat-value" id="totalGames">0</span>
                    </div>
                </div>

                <div class="new-record" id="newRecordBadge" style="display: none;">
                    üèÜ New Record! üèÜ
                </div>

                <div class="game-over-buttons">
                    <button class="btn-play-again" id="playAgainBtn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="23 4 23 10 17 10"/>
                            <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"/>
                        </svg>
                        Play Again
                    </button>
                    <button class="btn-menu" id="backGamesBtn">Back to Games</button>
                </div>
            </div>
        </div>
    </div>

    <script src="../js/storage.js"></script>
    <script src="../js/auth-guard.js"></script>
    <script src="../js/darkmode.js"></script>
    <script src="../js/page-transitions.js"></script>
    <script src="../js/snake.js"></script>
</body>
</html>

